<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Th∆∞·ªõc L·ªó Ban Tr·ª±c Tuy·∫øn</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
      text-align: center;
      padding: 30px 20px;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .header p {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .content {
      padding: 30px;
    }

    .instruction {
      background: #f8f9fa;
      border-left: 4px solid #ff6b6b;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 0 10px 10px 0;
    }

    .instruction h3 {
      color: #2c3e50;
      margin-bottom: 10px;
      font-size: 1.3rem;
    }

    .instruction ul {
      list-style: none;
      padding-left: 0;
    }

    .instruction li {
      margin: 8px 0;
      padding: 5px 0;
      font-size: 1.1rem;
    }

    .good { color: #e74c3c; font-weight: bold; }
    .bad { color: #2c3e50; font-weight: bold; }

    .input-section {
      margin-bottom: 30px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2c3e50;
      font-size: 1.1rem;
    }

    input[type="number"] {
      width: 100%;
      padding: 15px;
      font-size: 1.1rem;
      border: 2px solid #e9ecef;
      border-radius: 10px;
      transition: all 0.3s ease;
    }

    input[type="number"]:focus {
      border-color: #ff6b6b;
      outline: none;
      box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
    }

    .ruler-type {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .ruler-option {
      position: relative;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 10px;
      padding: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .ruler-option:hover {
      border-color: #ff6b6b;
      transform: translateY(-2px);
    }

    .ruler-option.active {
      border-color: #ff6b6b;
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
    }

    .ruler-option input[type="radio"] {
      position: absolute;
      opacity: 0;
    }

    .ruler-option h4 {
      font-size: 1.2rem;
      margin-bottom: 5px;
    }

    .ruler-option p {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .result-section {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 25px;
      margin-top: 20px;
      border: 2px solid #e9ecef;
    }

    .result-section.good-result {
      background: linear-gradient(135deg, #00b894, #00a085);
      color: white;
      border-color: #00b894;
    }

    .result-section.bad-result {
      background: linear-gradient(135deg, #636e72, #2d3436);
      color: white;
      border-color: #636e72;
    }

    .result-section h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      text-align: center;
    }

    .measurement-display {
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      margin: 20px 0;
    }

    .ruler-visual {
      margin: 20px 0;
      height: 60px;
      background: linear-gradient(to right, #ddd, #ccc);
      border-radius: 10px;
      position: relative;
      overflow: hidden;
    }

    .ruler-segments {
      display: flex;
      height: 100%;
    }

    .segment {
      flex: 1;
      border-right: 1px solid #999;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.8rem;
      color: white;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    .segment.good {
      background: linear-gradient(135deg, #e74c3c, #c0392b);
    }

    .segment.bad {
      background: linear-gradient(135deg, #34495e, #2c3e50);
    }

    .segment:last-child {
      border-right: none;
    }

    .marker {
      position: absolute;
      top: -10px;
      width: 3px;
      height: 80px;
      background: #f39c12;
      border-radius: 2px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .marker::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -4px;
      width: 0;
      height: 0;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-top: 10px solid #f39c12;
    }

    .explanation {
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 15px;
      margin-top: 15px;
    }

    .btn-calculate {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.2rem;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 15px;
    }

    .btn-calculate:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }

      .content {
        padding: 20px;
      }

      .ruler-type {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>üè† Th∆∞·ªõc L·ªó Ban</h1>
    <p>·ª®ng d·ª•ng xem th∆∞·ªõc phong th·ªßy tr·ª±c tuy·∫øn</p>
  </div>

  <div class="content">
    <div class="instruction">
      <h3>üìã H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h3>
      <ul>
        <li><span class="good">M√†u ƒë·ªè l√† t·ªët</span> - <span class="bad">M√†u ƒëen l√† kh√¥ng t·ªët</span></li>
        <li><strong>Th∆∞·ªõc 52.2cm (Th√¥ng Th·ªßy):</strong> D√πng cho c·ª≠a ra v√†o, c·ª≠a s·ªï</li>
        <li><strong>Th∆∞·ªõc 42.9cm (D∆∞∆°ng Tr·∫°ch):</strong> D√πng cho kh·ªëi x√¢y d·ª±ng (b·∫øp, b·ªá, b·∫≠c thang)</li>
        <li><strong>Th∆∞·ªõc 38.8cm (√Çm Ph·∫ßn):</strong> D√πng cho ƒë·ªì n·ªôi th·∫•t (b√†n th·ªù, t·ªß, gi∆∞·ªùng)</li>
      </ul>
    </div>

    <div class="input-section">
      <div class="input-group">
        <label for="measurement">Nh·∫≠p k√≠ch th∆∞·ªõc c·∫ßn ƒëo (cm):</label>
        <input type="number" id="measurement" placeholder="V√≠ d·ª•: 120" step="0.1" min="0">
      </div>

      <div class="input-group">
        <label>Ch·ªçn lo·∫°i th∆∞·ªõc L·ªó Ban:</label>
        <div class="ruler-type">
          <div class="ruler-option active" onclick="selectRuler(this, 52.2)">
            <input type="radio" name="ruler" value="52.2" checked>
            <h4>üö™ Th√¥ng Th·ªßy</h4>
            <p>52.2cm - C·ª≠a ra v√†o, c·ª≠a s·ªï</p>
          </div>
          <div class="ruler-option" onclick="selectRuler(this, 42.9)">
            <input type="radio" name="ruler" value="42.9">
            <h4>üèóÔ∏è D∆∞∆°ng Tr·∫°ch</h4>
            <p>42.9cm - Kh·ªëi x√¢y d·ª±ng</p>
          </div>
          <div class="ruler-option" onclick="selectRuler(this, 38.8)">
            <input type="radio" name="ruler" value="38.8">
            <h4>ü™ë √Çm Ph·∫ßn</h4>
            <p>38.8cm - ƒê·ªì n·ªôi th·∫•t</p>
          </div>
        </div>
      </div>

      <button class="btn-calculate" onclick="calculate()">üîç Xem K·∫øt Qu·∫£</button>
    </div>

    <div id="result" class="result-section" style="display: none;">
      <h3 id="result-title">K·∫øt qu·∫£</h3>
      <div class="measurement-display" id="measurement-display"></div>
      <div class="ruler-visual" id="ruler-visual"></div>
      <div class="explanation" id="explanation"></div>
    </div>
  </div>
</div>

<script>
  let selectedRulerLength = 52.2;

  // ƒê·ªãnh nghƒ©a c√°c ƒëo·∫°n th∆∞·ªõc L·ªó Ban theo truy·ªÅn th·ªëng
  const rulerSegments = {
    52.2: [
      { name: "T√†i", type: "good", percentage: 12.5 },
      { name: "B·ªánh", type: "bad", percentage: 12.5 },
      { name: "Ly", type: "bad", percentage: 12.5 },
      { name: "Nghƒ©a", type: "good", percentage: 12.5 },
      { name: "Quan", type: "good", percentage: 12.5 },
      { name: "Ki·∫øp", type: "bad", percentage: 12.5 },
      { name: "H·∫°i", type: "bad", percentage: 12.5 },
      { name: "B·∫£n", type: "good", percentage: 12.5 }
    ],
    42.9: [
      { name: "ƒê·∫ø", type: "good", percentage: 12.5 },
      { name: "T·ª≠", type: "bad", percentage: 12.5 },
      { name: "Thi√™n", type: "good", percentage: 12.5 },
      { name: "Ph√∫c", type: "good", percentage: 12.5 },
      { name: "ƒê·ª©c", type: "good", percentage: 12.5 },
      { name: "VƒÉn", type: "bad", percentage: 12.5 },
      { name: "V√µ", type: "bad", percentage: 12.5 },
      { name: "Ph√°", type: "bad", percentage: 12.5 }
    ],
    38.8: [
      { name: "ƒêinh", type: "good", percentage: 12.5 },
      { name: "H·∫°i", type: "bad", percentage: 12.5 },
      { name: "V∆∞·ª£ng", type: "good", percentage: 12.5 },
      { name: "Kh·ªï", type: "bad", percentage: 12.5 },
      { name: "Nghƒ©a", type: "good", percentage: 12.5 },
      { name: "Quan", type: "good", percentage: 12.5 },
      { name: "Ki·∫øp", type: "bad", percentage: 12.5 },
      { name: "T√†i", type: "good", percentage: 12.5 }
    ]
  };

  const meanings = {
    // Th∆∞·ªõc 52.2cm
    "T√†i": "Ti·ªÅn t√†i, ph√∫ qu√Ω, th·ªãnh v∆∞·ª£ng",
    "B·ªánh": "B·ªánh t·∫≠t, y·∫øu ƒëu·ªëi",
    "Ly": "Chia ly, tan v·ª°",
    "Nghƒ©a": "Nh√¢n nghƒ©a, ƒë·∫°o ƒë·ª©c",
    "Quan": "Quan l·ªôc, thƒÉng ti·∫øn",
    "Ki·∫øp": "Ki·∫øp n·∫°n, tai h·ªça",
    "H·∫°i": "T·ªïn h·∫°i, b·∫•t l·ª£i",
    "B·∫£n": "G·ªëc g√°c, cƒÉn b·∫£n t·ªët",

    // Th∆∞·ªõc 42.9cm
    "ƒê·∫ø": "ƒê·∫ø v∆∞∆°ng, quy·ªÅn l·ª±c",
    "T·ª≠": "T·ª≠ vong, hung hi·ªÉm",
    "Thi√™n": "Thi√™n ƒë∆∞·ªùng, may m·∫Øn",
    "Ph√∫c": "Ph√∫c l·ªôc, h·∫°nh ph√∫c",
    "ƒê·ª©c": "ƒê·ª©c h·∫°nh, t·ªët l√†nh",
    "VƒÉn": "VƒÉn ch∆∞∆°ng nh∆∞ng kh√¥ng t·ªët",
    "V√µ": "V√µ c√¥ng nh∆∞ng kh√¥ng t·ªët",
    "Ph√°": "Ph√° ho·∫°i, ƒë·ªï v·ª°",

    // Th∆∞·ªõc 38.8cm
    "ƒêinh": "ƒêinh th·ªãnh, ph√°t ƒë·∫°t",
    "V∆∞·ª£ng": "H∆∞ng v∆∞·ª£ng, ph·ªìn vinh"
  };

  function selectRuler(element, length) {
    // Remove active class from all options
    document.querySelectorAll('.ruler-option').forEach(option => {
      option.classList.remove('active');
    });

    // Add active class to selected option
    element.classList.add('active');
    element.querySelector('input[type="radio"]').checked = true;
    selectedRulerLength = length;
  }

  function calculate() {
    const measurement = parseFloat(document.getElementById('measurement').value);

    if (!measurement || measurement <= 0) {
      alert('Vui l√≤ng nh·∫≠p k√≠ch th∆∞·ªõc h·ª£p l·ªá!');
      return;
    }

    // T√≠nh to√°n v·ªã tr√≠ tr√™n th∆∞·ªõc
    const position = measurement % selectedRulerLength;
    const cycles = Math.floor(measurement / selectedRulerLength);

    // X√°c ƒë·ªãnh ƒëo·∫°n th∆∞·ªõc
    const segments = rulerSegments[selectedRulerLength];
    let cumulativeLength = 0;
    let currentSegment = null;

    for (let segment of segments) {
      const segmentLength = (selectedRulerLength * segment.percentage) / 100;
      if (position <= cumulativeLength + segmentLength) {
        currentSegment = segment;
        break;
      }
      cumulativeLength += segmentLength;
    }

    // Hi·ªÉn th·ªã k·∫øt qu·∫£
    displayResult(measurement, position, cycles, currentSegment);
  }

  function displayResult(measurement, position, cycles, segment) {
    const resultDiv = document.getElementById('result');
    const titleDiv = document.getElementById('result-title');
    const displayDiv = document.getElementById('measurement-display');
    const visualDiv = document.getElementById('ruler-visual');
    const explanationDiv = document.getElementById('explanation');

    resultDiv.style.display = 'block';

    // Thi·∫øt l·∫≠p ti√™u ƒë·ªÅ v√† m√†u s·∫Øc
    if (segment.type === 'good') {
      resultDiv.className = 'result-section good-result';
      titleDiv.textContent = '‚úÖ K·∫øt Qu·∫£ T·ªët';
    } else {
      resultDiv.className = 'result-section bad-result';
      titleDiv.textContent = '‚ùå K·∫øt Qu·∫£ Kh√¥ng T·ªët';
    }

    displayDiv.textContent = `${measurement} cm`;

    // T·∫°o th∆∞·ªõc visual
    createRulerVisual(visualDiv, position, segment);

    // T·∫°o gi·∫£i th√≠ch
    const meaning = meanings[segment.name] || "Kh√¥ng c√≥ th√¥ng tin";
    explanationDiv.innerHTML = `
                <h4>üîç Chi ti·∫øt:</h4>
                <p><strong>V·ªã tr√≠:</strong> ${segment.name} (${segment.type === 'good' ? 'T·ªët' : 'Kh√¥ng t·ªët'})</p>
                <p><strong>√ù nghƒ©a:</strong> ${meaning}</p>
                <p><strong>Th∆∞·ªõc s·ª≠ d·ª•ng:</strong> ${selectedRulerLength}cm</p>
                <p><strong>S·ªë chu k·ª≥:</strong> ${Math.floor(measurement / selectedRulerLength)} chu k·ª≥ + ${position.toFixed(1)}cm</p>
            `;

    // Cu·ªôn ƒë·∫øn k·∫øt qu·∫£
    resultDiv.scrollIntoView({ behavior: 'smooth' });
  }

  function createRulerVisual(container, position, currentSegment) {
    const segments = rulerSegments[selectedRulerLength];
    let html = '<div class="ruler-segments">';

    let cumulativeLength = 0;
    for (let segment of segments) {
      const segmentLength = (selectedRulerLength * segment.percentage) / 100;
      const isCurrentSegment = segment.name === currentSegment.name;

      html += `<div class="segment ${segment.type} ${isCurrentSegment ? 'current' : ''}"
                              title="${segment.name}: ${meanings[segment.name] || ''}"
                              style="opacity: ${isCurrentSegment ? '1' : '0.7'}">
                              ${segment.name}
                         </div>`;

      cumulativeLength += segmentLength;
    }

    html += '</div>';

    // Th√™m marker v·ªã tr√≠
    const markerPosition = (position / selectedRulerLength) * 100;
    html += `<div class="marker" style="left: ${markerPosition}%"></div>`;

    container.innerHTML = html;
  }

  // T·ª± ƒë·ªông t√≠nh to√°n khi nh·∫≠p
  document.getElementById('measurement').addEventListener('input', function() {
    const value = this.value;
    if (value && parseFloat(value) > 0) {
      calculate();
    } else {
      document.getElementById('result').style.display = 'none';
    }
  });

  // T√≠nh to√°n ban ƒë·∫ßu v·ªõi gi√° tr·ªã m·∫´u
  document.getElementById('measurement').value = 120;
  calculate();
</script>
</body>
</html>